Output:
./a.out
state 0
state 1
state 1
state 1
state 2
